(this["webpackJsonpgamepad-tester"]=this["webpackJsonpgamepad-tester"]||[]).push([[0],{72:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),i=a(120);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(31),s=function(e,t){try{var a=JSON.stringify(e);localStorage.setItem("state",a)}catch(n){}},u=a(24),m=a(68),p=a(13),b=a(18),d=a(60),f=a(61),E="lib/api/controllers/LOAD_CONTROLLERS_LIST_PROCESSING",g="lib/api/controllers/LOAD_CONTROLLERS_LIST_SUCCEED",O="lib/api/controllers/LOAD_CONTROLLERS_LIST_FAILED",h="lib/api/controllers/REGISTER_CONTROLLER_PROCESSING",v="lib/api/controllers/REGISTER_CONTROLLER_SUCCEED",j="lib/api/controllers/REGISTER_CONTROLLER_FAILED",x=Object(p.fromJS)({controllersList:Object(p.List)([]),controllersListStatus:void 0,registeredController:Object(p.Map)({}),registeringControllerStatus:void 0,error:void 0});function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.payload,r=t.error;switch(a){case E:return e.set("controllersListStatus",E).set("controllersList",Object(p.List)([]));case g:return e.set("controllersListStatus",g).set("controllersList",Object(p.List)(n));case O:return e.set("controllersListStatus",O).set("error",r);case h:return e.set("registeringControllerStatus",h).set("registeredController",Object(p.Map)({}));case v:return e.set("registeringControllerStatus",v).set("registeredController",Object(p.Map)(n));case j:return e.set("registeringControllerStatus",j).set("error",r);default:return e}}var S=Object(p.fromJS)({vibrationActuatorData:Object(p.Map)({startDelay:0,duration:500,weakMagnitude:.5,strongMagnitude:.5})});function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"lib/api/ui/CHANGE_VIBRATION_ACTUATOR_DATA":return e.set("vibrationActuatorData",Object(p.Map)(n));default:return e}}function w(e){var t=Object(f.combineReducers)(Object(d.a)({controllers:y,ui:k},e));return function(e,a){return t(e,a)}}var C=a(12),L=a.n(C),R=a(11),T=L.a.mark(I),A=L.a.mark(_),N=L.a.mark(M),D=L.a.mark(W);function I(e,t,a){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(R.a)(R.b,a);case 2:return n.next=4,Object(R.a)(t,e);case 4:case"end":return n.stop()}}),T)}function _(e,t){var a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(R.f)(e);case 2:if(!(a=n.sent)){n.next=7;break}return n.next=5,Object(R.a)(t,a);case 5:n.next=0;break;case 7:case"end":return n.stop()}}),A)}function M(e,t,a){var n,r;return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(R.f)(e);case 2:if(!(n=c.sent)){c.next=9;break}return r&&r.isRunning()&&r.cancel(),c.next=6,Object(R.c)(I,n,t,a);case 6:r=c.sent,c.next=0;break;case 9:case"end":return c.stop()}}),N)}function W(e,t){var a,n=arguments;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a=n.length>2&&void 0!==n[2]?n[2]:0)){r.next=6;break}return r.next=4,Object(R.c)(M,e,t,a);case 4:r.next=8;break;case 6:return r.next=8,Object(R.c)(_,e,t);case 8:case"end":return r.stop()}}),D)}var F=a(49),G=L.a.mark(U);function B(e){return Object(F.a)(e.headers.entries()).reduce((function(e,t){return Object(b.set)(e,t[0],t[1])}),{})}function H(e,t,a){var n;return fetch(e,t).then((function(e){return a?e.blob().then((function(t){return e.ok?(n=B(e),t):Promise.reject({status:e.status,message:e.statusText,data:t})})):e.text().then((function(e){return e?JSON.parse(e):{}})).then((function(t){return e.ok?(n=B(e),t):Promise.reject({status:e.status,message:e.statusText,data:t})}))})).then((function(e){return{data:e,headers:n}})).catch((function(e){return{err:e}}))}function U(e,t){var a,n,r,c,o,i,l,s,u=arguments;return L.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:V,n=u.length>3&&void 0!==u[3]&&u[3],r=t.withHeaders,c=Object(b.omit)(t,"withHeaders"),o={Accept:"application/json; charset=UTF-8","Content-Type":"application/json","Cache-Control":"no-cache"},i=Object(b.assign)({method:"GET",headers:o},c),m.next=8,Object(R.a)(H,e,i,n);case 8:if(void 0===(l=m.sent).err||null===l.err){m.next=14;break}return s=l.err,m.next=13,Object(R.d)(a(s));case 13:return m.abrupt("return",{error:s});case 14:return m.abrupt("return",r?l:l.data);case 15:case"end":return m.stop()}}),G)}function V(){return{type:"lib/COMMON/IDLE"}}var J=L.a.mark(P),z=L.a.mark(q);function P(){var e,t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="".concat("http://localhost:8888","/").concat("api","/controllers/list"),t={method:"GET"},a.next=4,Object(R.a)(U,e,t);case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),J)}function q(e){var t,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat("http://localhost:8888","/").concat("api","/controllers/register"),a={method:"POST",body:JSON.stringify(e)},n.next=4,Object(R.a)(U,t,a);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),z)}function Q(e){return{type:O,error:e}}function Y(e){return{type:j,error:e}}var $=a(20),K=function(){return function(e){return Object(p.Map)(e.get("controllers"))}},X=function(){return Object($.a)(K(),(function(e){return e.get("controllersListStatus")}))},Z=function(){return Object($.a)(K(),(function(e){return e.get("registrationStatus")}))},ee=L.a.mark(ae),te=L.a.mark(ne);function ae(e){var t,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(R.e)(Z());case 2:if(n.sent===h){n.next=24;break}return n.next=6,Object(R.d)({type:h});case 6:return n.prev=6,t=e.payload,n.next=10,Object(R.a)(q,t);case 10:if(!(a=n.sent)||void 0===a.error||null===a.error){n.next=16;break}return n.next=14,Object(R.d)(Y(a.error));case 14:n.next=18;break;case 16:return n.next=18,Object(R.d)({type:v,payload:a});case 18:n.next=24;break;case 20:return n.prev=20,n.t0=n.catch(6),n.next=24,Object(R.d)(Y());case 24:case"end":return n.stop()}}),ee,null,[[6,20]])}function ne(){var e;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(R.e)(X());case 2:if(t.sent===E){t.next=23;break}return t.next=6,Object(R.d)({type:E});case 6:return t.prev=6,t.next=9,Object(R.a)(P);case 9:if(!(e=t.sent)||void 0===e.error||null===e.error){t.next=15;break}return t.next=13,Object(R.d)(Q(e.error));case 13:t.next=17;break;case 15:return t.next=17,Object(R.d)({type:g,payload:e});case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(6),t.next=23,Object(R.d)(Q());case 23:case"end":return t.stop()}}),te,null,[[6,19]])}var re=[function(){return W("lib/api/controllers/LOAD_CONTROLLERS_LIST_REQUESTED",ne)},function(){return W("lib/api/controllers/REGISTER_CONTROLLER_REQUESTED",ae)}],ce=function(e){return function(t){return t.forEach(e)}},oe=Object(m.a)();var ie=a(119),le=a(107),se=a(112),ue=a(88),me=a(105),pe=Object(me.a)((function(e){return{wrapper:{minHeight:"600px",padding:e.spacing(2)}}}));var be=function(){var e=pe().wrapper;return r.a.createElement(le.a,{container:!0,className:e},r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,{variant:"h5"},"Controller Tester and Debugger"),r.a.createElement(ue.a,{variant:"body1"},"When connected, this tool displays the current state of your controllers, inputs, joysticks, and anything else that can be reported by the HTML5 Controller Api."),r.a.createElement(ue.a,{variant:"body1"},"This is also useful for debugging broken controllers, experimental hardware, and more.")))},de=a(25),fe=a(110),Ee=Object(me.a)((function(e){return{rootWrapper:{padding:e.spacing(2)},loader:{marginTop:"4px"}}})),ge=a(27),Oe=a(50),he=a(8),ve=a.n(he),je=a(123),xe=a(121),ye=a(108),Se=a(122),ke=a(109),we=Object(me.a)((function(e){return{root:{justifyContent:"center",alignItems:"center"},paper:{padding:"0 40px 25px 40px"},button:{maxWidth:"110px",minWidth:"95px"},switch:{minWidth:"190px"},infoWrapper:{marginTop:"20px",marginBottom:"20px"}}})),Ce=2e3,Le=5e3,Re=1,Te=1,Ae=function(){return Object($.a)((function(e){return Object(p.Map)(e.get("ui"))}),(function(e){return e.get("vibrationActuatorData")?e.get("vibrationActuatorData").toJS():{}}))},Ne=Object(Oe.a)(Object(l.b)((function(){return Object($.a)(Object($.a)(K(),(function(e){return e.get("registeredController")})),Z(),Ae(),(function(e,t,a){return{registeredController:e,registrationControllerStatus:t,vibrationActuatorData:a}}))}),(function(e){return{registerController:function(t){return e({type:"lib/api/controllers/REGISTER_CONTROLLER_REQUESTED",payload:t})},changeVibrationActuatorData:function(t){return e(function(e){return{type:"lib/api/ui/CHANGE_VIBRATION_ACTUATOR_DATA",payload:e}}(t))}}})));ve.a.object,ve.a.string,ve.a.func;var De=Ne((function(e){var t=we(),a=Object(n.useState)(null),c=Object(de.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!1),s=Object(de.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(de.a)(p,2),f=d[0],E=d[1],g=e.instance,O=e.registerController,h=e.vibrationActuatorData,v=e.changeVibrationActuatorData,j=h.startDelay,x=h.duration,y=h.weakMagnitude,S=h.strongMagnitude,k=function(){var e=h;return console.log("Vibration pulse started with parameters: %o",e),g.vibrationActuator.playEffect("dual-rumble",e)},w=function(){f?(C(),k(),i(setInterval(k,x+j-20)),m(!0)):k()},C=function(){o&&clearInterval(o),m(!1)},L=function(e,t){var a=j+x,n={};switch(e){case"startDelay":if(a>=Le){n={startDelay:t,duration:Le-j};break}case"duration":if(a>=Le){n={duration:t,startDelay:j-(a-Le)};break}default:n=Object(ge.a)({},e,t)}v(Object(b.assign)(h,n)),u&&(C(),w())};return Object(n.useEffect)((function(){return O({id:g.id,buttons:g.buttons.length,axes:g.axes.length}),function(){o&&clearInterval(o)}}),[]),r.a.createElement(le.a,{container:!0},r.a.createElement(ue.a,{variant:"h5"},g.id),r.a.createElement(le.a,{item:!0,className:t.infoWrapper,sm:12},r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Index"),r.a.createElement(je.a,null,g.index)),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Connected"),r.a.createElement(je.a,null,g.connected?"Yes":"n/a")),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Mapping"),r.a.createElement(je.a,null,g.mapping)),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Timestamp"),r.a.createElement(je.a,null,g.timestamp.toFixed(4))),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Pose"),r.a.createElement(je.a,null,g.pose&&Object.keys(g.pose).length>0?"Yes":"n/a")),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Hand"),r.a.createElement(je.a,null,g.hand?g.hand:"n/a")),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"HapticActuators"),r.a.createElement(je.a,null,g.hapticActuators&&Object.keys(g.hapticActuators).length>0?"Yes":"n/a")),r.a.createElement(le.a,{item:!0},r.a.createElement(ue.a,null,"Vibration"),r.a.createElement(je.a,null,g.vibrationActuator&&g.vibrationActuator.type?"Yes":"n/a"))),r.a.createElement(le.a,{container:!0,spacing:2},Object(b.map)(g.buttons,(function(e,t){return r.a.createElement(le.a,{item:!0,key:t},r.a.createElement(ue.a,null,"B",t+1),r.a.createElement(je.a,null,e.value.toFixed(2)))}))),r.a.createElement(le.a,{container:!0,spacing:2},Object(b.map)(g.axes,(function(e,t){return r.a.createElement(le.a,{item:!0,key:t},r.a.createElement(ue.a,null,"Axis ",t+1),r.a.createElement(je.a,null,e.toFixed(4)))})))),r.a.createElement(le.a,{item:!0,sm:12},r.a.createElement(ue.a,{gutterBottom:!0},"Delay: ",j," ms"),r.a.createElement(xe.a,{"aria-labelledby":"input-slider",value:j,defaultValue:0,step:10,min:0,max:Ce,onChange:function(e,t){return L("startDelay",t)}})),r.a.createElement(le.a,{item:!0,sm:12},r.a.createElement(ue.a,{gutterBottom:!0},"Duration: ",x," ms"),r.a.createElement(xe.a,{"aria-labelledby":"input-slider",value:x,defaultValue:1e3,step:10,min:100,max:Le,onChange:function(e,t){return L("duration",t)}})),r.a.createElement(le.a,{item:!0,sm:12},r.a.createElement(ue.a,{gutterBottom:!0},"Weak magnitude"),r.a.createElement(xe.a,{"aria-labelledby":"input-slider",value:y,defaultValue:1,step:.01,min:0,max:Re,onChange:function(e,t){return L("weakMagnitude",t)}})),r.a.createElement(le.a,{item:!0,sm:12},r.a.createElement(ue.a,{gutterBottom:!0},"Strong magnitude"),r.a.createElement(xe.a,{"aria-labelledby":"input-slider",value:S,defaultValue:1,step:.01,min:0,max:Te,onChange:function(e,t){return L("strongMagnitude",t)}})),r.a.createElement(le.a,{container:!0,justify:"flex-end",spacing:2},r.a.createElement(le.a,{item:!0},r.a.createElement(ye.a,{control:r.a.createElement(Se.a,{checked:f,disabled:u,onChange:function(){return E(!f)}}),label:"Interval repeat"})),r.a.createElement(le.a,{item:!0},r.a.createElement(ke.a,{className:t.button,variant:"contained",onClick:w,disabled:u},"Start")),r.a.createElement(le.a,{item:!0},r.a.createElement(ke.a,{className:t.button,variant:"contained",onClick:C,disabled:!u},"Stop")),r.a.createElement(le.a,{item:!0,xs:12},u&&r.a.createElement(fe.a,{color:"secondary"}))))})),Ie=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var _e=function(){var e=Ee(),t=e.rootWrapper,a=e.loader,c=Object(n.useState)([]),o=Object(de.a)(c,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){return function e(){var t=Object(b.filter)(Object(F.a)(navigator.getGamepads()),Boolean);l(t),Ie((function(){return e()}))}()}),[]),r.a.createElement(le.a,{container:!0,className:t,spacing:2},i.length?Object(b.map)(i,(function(e,t){return r.a.createElement(le.a,{item:!0,xs:12,key:t},r.a.createElement(De,{instance:e}))})):r.a.createElement(le.a,{container:!0,direction:"column",spacing:1},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(ue.a,{variant:"h5"},"No controller detected")),r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(ue.a,null,"If you have one, make sure it's plugged in or paired, and press buttons to wake it up")),r.a.createElement(le.a,{className:a,item:!0,xs:12},r.a.createElement(fe.a,{color:"secondary"}))))},Me=a(66),We=a.n(Me),Fe=a(111),Ge=a(113),Be=a(114),He=a(115),Ue=a(116),Ve=a(117),Je=a(118),ze=Object(me.a)((function(e){return{wrapper:{minHeight:"56px"},loaderWrapper:{minHeight:"600px",display:"flex",justifyContent:"center",alignItems:"center",animation:"$fadeinout 1s linear forwards"},"@keyframes fadeinout":{"0%, 100%":{opacity:0},"50%":{opacity:1}},cell:{alignItems:"center",justifyContent:"center",textAlign:"center"},nil:{minHeight:"600px",padding:e.spacing(2)}}})),Pe=Object(Oe.a)(Object(l.b)((function(){return Object($.a)(Object($.a)(K(),(function(e){return e.get("controllersList")})),X(),(function(e,t){return{controllersList:e,controllersListStatus:t}}))}),(function(e){return{loadControllersList:function(){return e({type:"lib/api/controllers/LOAD_CONTROLLERS_LIST_REQUESTED"})}}})));ve.a.string,ve.a.func,We.a.list;var qe=Pe((function(e){var t=ze(),a=t.wrapper,c=t.cell,o=t.loaderWrapper,i=t.nil,l=e.controllersList,s=e.controllersListStatus,u=e.loadControllersList,m=Object(n.useState)(!0),p=Object(de.a)(m,2),b=p[0],d=p[1];return Object(n.useEffect)((function(){u();var e=setInterval((function(){return d(s===E)}),1e3);return function(){e&&clearInterval(e)}}),[]),r.a.createElement(le.a,{container:!0},r.a.createElement(Fe.a,{className:a,component:se.a},b?r.a.createElement("div",{className:o},r.a.createElement(Ge.a,null)):l.size?r.a.createElement(Be.a,null,r.a.createElement(He.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{className:c},"#"),r.a.createElement(Ve.a,null,"Name"),r.a.createElement(Ve.a,{className:c},"Count"))),r.a.createElement(Je.a,null,l.map((function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{className:c},t+1),r.a.createElement(Ve.a,null,e.id),r.a.createElement(Ve.a,{className:c},e.count))})))):r.a.createElement(le.a,{item:!0,xs:12,className:i},r.a.createElement(ue.a,{variant:"h5"},"No data on registered controllers"))))})),Qe=Object(me.a)((function(e){var t;return{app:(t={padding:"16px",backgroundColor:"#282c34",fontSize:"calc(10px + 2vmin)",color:"white",background:"transparent",fontFamily:e.font.family},Object(ge.a)(t,Object.keys(e.font.webkitSmoothing)[0],Object.values(e.font.webkitSmoothing)[0]),Object(ge.a)(t,Object.keys(e.font.mozSmoothing)[0],Object.values(e.font.mozSmoothing)[0]),t)}}));var Ye=function(){var e=Qe().app;return r.a.createElement(ie.a,{maxWidth:"lg",className:e,disableGutters:!0},r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,sm:12},r.a.createElement(se.a,null,r.a.createElement(_e,null))),r.a.createElement(le.a,{item:!0,sm:8},r.a.createElement(se.a,null,r.a.createElement(be,null))),r.a.createElement(le.a,{item:!0,sm:4},r.a.createElement(se.a,null,r.a.createElement(qe,null))),r.a.createElement(le.a,{item:!0,sm:12},r.a.createElement(ue.a,null,"Copyright 2020-2021"),r.a.createElement(ue.a,null,"Version ","0.2.3"))))},$e=a(67),Ke=Object($e.a)({overrides:{MuiSlider:{thumb:{color:"#f50057"},track:{color:"#f50057"},rail:{color:"#f50057"}},MuiCircularProgress:{circle:{color:"#f50057"}}},palette:{type:"dark"},font:{family:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",webkitSmoothing:{"-webkit-font-smoothing":"antialiased"},mozSmoothing:{"-moz-osx-font-smoothing":"grayscale"}}}),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[oe],a=[u.a.apply(void 0,t)],n=u.c,r=Object(u.d)(w(),Object(p.fromJS)(e),n.apply(void 0,a));r.subscribe(Object(b.throttle)((function(){s({ui:r.getState().get("ui")})}),1e3)),r.runSaga=oe.run;var c=ce(r.runSaga);return c(re),r.asyncReducers={},r.asyncSagas={},r}(function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());document.body.style.margin="0",o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Xe},r.a.createElement(i.a,{theme:Ke},r.a.createElement(Ye,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);