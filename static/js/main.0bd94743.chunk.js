(this["webpackJsonpgamepad-tester"]=this["webpackJsonpgamepad-tester"]||[]).push([[0],{72:function(e,t,n){e.exports=n(87)},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),i=n(120);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(32),s=n(24),u=n(68),m=n(17),d=n(20),p=n(62),b="lib/api/controllers/LOAD_CONTROLLERS_LIST_PROCESSING",f="lib/api/controllers/LOAD_CONTROLLERS_LIST_SUCCEED",g="lib/api/controllers/LOAD_CONTROLLERS_LIST_FAILED",E="lib/api/controllers/REGISTER_CONTROLLER_PROCESSING",O="lib/api/controllers/REGISTER_CONTROLLER_SUCCEED",v="lib/api/controllers/REGISTER_CONTROLLER_FAILED",h=Object(m.fromJS)({controllersList:Object(m.List)([]),controllersListStatus:void 0,registeredController:Object(m.Map)({}),registeringControllerStatus:void 0,error:void 0});function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload,r=t.error;switch(n){case b:return e.set("controllersListStatus",b).set("controllersList",Object(m.List)([]));case f:return e.set("controllersListStatus",f).set("controllersList",Object(m.List)(a));case g:return e.set("controllersListStatus",g).set("error",r);case E:return e.set("registeringControllerStatus",E).set("registeredController",Object(m.Map)({}));case O:return e.set("registeringControllerStatus",O).set("registeredController",Object(m.Map)(a));case v:return e.set("registeringControllerStatus",v).set("error",r);default:return e}}function x(e){var t=Object(p.combineReducers)(Object(d.a)({controllers:j},e));return function(e,n){return t(e,n)}}var y=n(12),S=n.n(y),k=n(11),w=S.a.mark(N),L=S.a.mark(T),C=S.a.mark(I),R=S.a.mark(_);function N(e,t,n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(k.a)(k.b,n);case 2:return a.next=4,Object(k.a)(t,e);case 4:case"end":return a.stop()}}),w)}function T(e,t){var n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(k.f)(e);case 2:if(!(n=a.sent)){a.next=7;break}return a.next=5,Object(k.a)(t,n);case 5:a.next=0;break;case 7:case"end":return a.stop()}}),L)}function I(e,t,n){var a,r;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(k.f)(e);case 2:if(!(a=c.sent)){c.next=9;break}return r&&r.isRunning()&&r.cancel(),c.next=6,Object(k.c)(N,a,t,n);case 6:r=c.sent,c.next=0;break;case 9:case"end":return c.stop()}}),C)}function _(e,t){var n,a=arguments;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=a.length>2&&void 0!==a[2]?a[2]:0)){r.next=6;break}return r.next=4,Object(k.c)(I,e,t,n);case 4:r.next=8;break;case 6:return r.next=8,Object(k.c)(T,e,t);case 8:case"end":return r.stop()}}),R)}var D=n(51),M=n(34),W=S.a.mark(U);function A(e){return Object(D.a)(e.headers.entries()).reduce((function(e,t){return Object(M.set)(e,t[0],t[1])}),{})}function G(e,t,n){var a;return fetch(e,t).then((function(e){return n?e.blob().then((function(t){return e.ok?(a=A(e),t):Promise.reject({status:e.status,message:e.statusText,data:t})})):e.text().then((function(e){return e?JSON.parse(e):{}})).then((function(t){return e.ok?(a=A(e),t):Promise.reject({status:e.status,message:e.statusText,data:t})}))})).then((function(e){return{data:e,headers:a}})).catch((function(e){return{err:e}}))}function U(e,t){var n,a,r,c,o,i,l,s,u=arguments;return S.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:B,a=u.length>3&&void 0!==u[3]&&u[3],r=t.withHeaders,c=Object(M.omit)(t,"withHeaders"),o={Accept:"application/json; charset=UTF-8","Content-Type":"application/json","Cache-Control":"no-cache"},i=Object(M.assign)({method:"GET",headers:o},c),m.next=8,Object(k.a)(G,e,i,a);case 8:if(void 0===(l=m.sent).err||null===l.err){m.next=14;break}return s=l.err,m.next=13,Object(k.d)(n(s));case 13:return m.abrupt("return",{error:s});case 14:return m.abrupt("return",r?l:l.data);case 15:case"end":return m.stop()}}),W)}function B(){return{type:"lib/COMMON/IDLE"}}var H=S.a.mark(z),J=S.a.mark(F);function z(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat("http://localhost:8888","/").concat("api","/controllers/list"),t={method:"GET"},n.next=4,Object(k.a)(U,e,t);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),H)}function F(e){var t,n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t="".concat("http://localhost:8888","/").concat("api","/controllers/register"),n={method:"POST",body:JSON.stringify(e)},a.next=4,Object(k.a)(U,t,n);case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),J)}function P(e){return{type:g,error:e}}function V(e){return{type:v,error:e}}var Q=n(19),$=function(){return function(e){return Object(m.Map)(e.get("controllers"))}},q=function(){return Object(Q.a)($(),(function(e){return e.get("controllersListStatus")}))},K=function(){return Object(Q.a)($(),(function(e){return e.get("registrationStatus")}))},X=S.a.mark(Z),Y=S.a.mark(ee);function Z(e){var t,n;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(k.e)(K());case 2:if(a.sent===E){a.next=24;break}return a.next=6,Object(k.d)({type:E});case 6:return a.prev=6,t=e.payload,a.next=10,Object(k.a)(F,t);case 10:if(!(n=a.sent)||void 0===n.error||null===n.error){a.next=16;break}return a.next=14,Object(k.d)(V(n.error));case 14:a.next=18;break;case 16:return a.next=18,Object(k.d)({type:O,payload:n});case 18:a.next=24;break;case 20:return a.prev=20,a.t0=a.catch(6),a.next=24,Object(k.d)(V());case 24:case"end":return a.stop()}}),X,null,[[6,20]])}function ee(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.e)(q());case 2:if(t.sent===b){t.next=23;break}return t.next=6,Object(k.d)({type:b});case 6:return t.prev=6,t.next=9,Object(k.a)(z);case 9:if(!(e=t.sent)||void 0===e.error||null===e.error){t.next=15;break}return t.next=13,Object(k.d)(P(e.error));case 13:t.next=17;break;case 15:return t.next=17,Object(k.d)({type:f,payload:e});case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(6),t.next=23,Object(k.d)(P());case 23:case"end":return t.stop()}}),Y,null,[[6,19]])}var te=[function(){return _("lib/api/controllers/LOAD_CONTROLLERS_LIST_REQUESTED",ee)},function(){return _("lib/api/controllers/REGISTER_CONTROLLER_REQUESTED",Z)}],ne=function(e){return function(t){return t.forEach(e)}},ae=Object(u.a)();var re=n(119),ce=n(107),oe=n(112),ie=n(88),le=n(105),se=Object(le.a)((function(e){return{wrapper:{minHeight:"600px",padding:e.spacing(1)}}}));var ue=function(){var e=se().wrapper;return r.a.createElement("div",{className:e},r.a.createElement(ie.a,{variant:"h5"},"Controller Tester and Debugger"),r.a.createElement(ie.a,{variant:"body1"},"When connected, this tool displays the current state of your controllers, inputs, joysticks, and anything else that can be reported by the HTML5 Controller Api."),r.a.createElement(ie.a,{variant:"body1"},"This is also useful for debugging broken controllers, experimental hardware, and more."))},me=n(26),de=n(7),pe=n.n(de),be=n(31),fe=n.n(be),ge=n(110),Ee=Object(le.a)((function(e){return{rootWrapper:{padding:e.spacing(2)},loader:{marginTop:"4px"}}})),Oe=n(25),ve=n(52),he=n(123),je=n(122),xe=n(108),ye=n(121),Se=n(109),ke=Object(le.a)((function(e){return{root:{justifyContent:"center",alignItems:"center"},paper:{padding:"0 40px 25px 40px"},button:{maxWidth:"110px",minWidth:"95px"},switch:{minWidth:"190px"}}}));var we=Object(ve.a)(Object(l.b)((function(){return Object(Q.a)(Object(Q.a)($(),(function(e){return e.get("registeredController")})),K(),(function(e,t){return{registeredController:e,registrationControllerStatus:t}}))}),(function(e){return{registerController:function(t){return e({type:"lib/api/controllers/REGISTER_CONTROLLER_REQUESTED",payload:t})}}}))),Le={delay:0,duration:1e3,weakMagnitude:.5,strongMagnitude:0,isNeedRepeat:!1,pressedButtons:[]},Ce=2e3,Re=5e3,Ne=1,Te=1;pe.a.func,pe.a.string,fe.a.map;var Ie=we((function(e){var t=ke(),n=Object(a.useState)(Le),c=Object(me.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(null),s=Object(me.a)(l,2),u=s[0],m=s[1],p=Object(a.useState)(!1),b=Object(me.a)(p,2),f=b[0],g=b[1],E=e.instance,O=e.registerController,v=o.delay,h=o.duration,j=o.weakMagnitude,x=o.strongMagnitude,y=o.isNeedRepeat,S=function(){var e={startDelay:v,duration:h,weakMagnitude:j,strongMagnitude:x};return console.log("Vibration pulse started with parameters: %o",e),E.vibrationActuator.playEffect("dual-rumble",e)},k=function(){y?(S(),m(setInterval(S,h+v-20)),g(!0)):S()},w=function(){u&&clearInterval(u),g(!1)},L=function(e,t){console.log(Object(Oe.a)({},e,t));var n=v+h;switch(e){case"delay":if(n>=Re){i(Object(d.a)(Object(d.a)({},o),{},{delay:t,duration:Re-v}));break}case"duration":if(n>=Re){i(Object(d.a)(Object(d.a)({},o),{},{delay:v-(n-Re),duration:t}));break}default:i(Object(d.a)(Object(d.a)({},o),{},Object(Oe.a)({},e,t)))}f&&(w(),k())};return Object(a.useEffect)((function(){return O({id:E.id,buttons:E.buttons.length,axes:E.axes.length}),function(){u&&clearInterval(u)}}),[]),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(he.a,null,E.id)),r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(ie.a,{gutterBottom:!0},"Delay: ",v," ms"),r.a.createElement(je.a,{"aria-labelledby":"input-slider",value:v,defaultValue:0,step:10,min:0,max:Ce,onChange:function(e,t){return L("delay",t)}})),r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(ie.a,{gutterBottom:!0},"Duration: ",h," ms"),r.a.createElement(je.a,{"aria-labelledby":"input-slider",value:h,defaultValue:1e3,step:10,min:100,max:Re,onChange:function(e,t){return L("duration",t)}})),r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(ie.a,{gutterBottom:!0},"Weak magnitude"),r.a.createElement(je.a,{"aria-labelledby":"input-slider",value:j,defaultValue:1,step:.01,min:0,max:Ne,onChange:function(e,t){return L("weakMagnitude",t)}})),r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(ie.a,{gutterBottom:!0},"Strong magnitude"),r.a.createElement(je.a,{"aria-labelledby":"input-slider",value:x,defaultValue:1,step:.01,min:0,max:Te,onChange:function(e,t){return L("strongMagnitude",t)}})),r.a.createElement(ce.a,{container:!0,justify:"flex-end",spacing:2},r.a.createElement(ce.a,{item:!0},r.a.createElement(xe.a,{control:r.a.createElement(ye.a,{checked:y,disabled:f,onChange:function(){return L("isNeedRepeat",!y)}}),label:"Interval repeat"})),r.a.createElement(ce.a,{item:!0},r.a.createElement(Se.a,{className:t.button,variant:"contained",onClick:k,disabled:f},"Start")),r.a.createElement(ce.a,{item:!0},r.a.createElement(Se.a,{className:t.button,variant:"contained",onClick:w,disabled:!f},"Stop")),r.a.createElement(ce.a,{item:!0,xs:12},f&&r.a.createElement(ge.a,{color:"secondary"}))))}));pe.a.string,pe.a.func,fe.a.list;var _e=function(){var e=Ee(),t=e.rootWrapper,n=e.loader,c=Object(a.useState)([]),o=Object(me.a)(c,2),i=o[0],l=o[1],s=function(e){console.log("Controller connected at index ".concat(e.gamepad.index)),l([].concat(Object(D.a)(i),[e.gamepad]))},u=function(e){console.log("Controller disconnected from index ".concat(e.gamepad.index)),delete i[e.gamepad.index],l(i)};return Object(a.useEffect)((function(){return window.addEventListener("gamepadconnected",s),window.addEventListener("gamepaddisconnected",u),function(){window.removeEventListener("gamepadconnected",s),window.removeEventListener("gamepaddisconnected",u)}}),[]),r.a.createElement(ce.a,{container:!0,className:t,spacing:2},i.length?Object(M.map)(i,(function(e){return r.a.createElement(ce.a,{item:!0,xs:12,key:e.index},r.a.createElement(Ie,{instance:e}))})):r.a.createElement(ce.a,{container:!0,direction:"column",spacing:1},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(ie.a,{variant:"h5"},"No controller detected")),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(ie.a,null,"If you have one, make sure it's plugged in or paired, and press buttons to wake it up")),r.a.createElement(ce.a,{className:n,item:!0,xs:12},r.a.createElement(ge.a,{color:"secondary"}))))},De=n(111),Me=n(113),We=n(114),Ae=n(115),Ge=n(116),Ue=n(117),Be=n(118),He=Object(le.a)((function(e){return{wrapper:{minHeight:"56px"},loaderWrapper:{minHeight:"130px",display:"flex",justifyContent:"center",alignItems:"center",animation:"$fadeinout 1s linear forwards"},"@keyframes fadeinout":{"0%, 100%":{opacity:0},"50%":{opacity:1}},cell:{alignItems:"center",justifyContent:"center",textAlign:"center"},nil:{minHeight:"600px",padding:e.spacing(2)}}})),Je=Object(ve.a)(Object(l.b)((function(){return Object(Q.a)(Object(Q.a)($(),(function(e){return e.get("controllersList")})),q(),(function(e,t){return{controllersList:e,controllersListStatus:t}}))}),(function(e){return{loadControllersList:function(){return e({type:"lib/api/controllers/LOAD_CONTROLLERS_LIST_REQUESTED"})}}})));pe.a.string,pe.a.func,fe.a.list;var ze=Je((function(e){var t=He(),n=t.wrapper,c=t.cell,o=t.loaderWrapper,i=t.nil,l=e.controllersList,s=e.controllersListStatus,u=e.loadControllersList,m=Object(a.useState)(!0),d=Object(me.a)(m,2),p=d[0],f=d[1];return Object(a.useEffect)((function(){u();var e=setInterval((function(){return f(s===b)}),1e3);return function(){e&&clearInterval(e)}}),[]),r.a.createElement(ce.a,{container:!0},r.a.createElement(De.a,{className:n,component:oe.a},p?r.a.createElement("div",{className:o},r.a.createElement(Me.a,null)):l.size?r.a.createElement(We.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Ge.a,null,r.a.createElement(Ue.a,{className:c},"#"),r.a.createElement(Ue.a,null,"Name"),r.a.createElement(Ue.a,{className:c},"Count"))),r.a.createElement(Be.a,null,l.map((function(e,t){return r.a.createElement(Ge.a,{key:t},r.a.createElement(Ue.a,{className:c},t+1),r.a.createElement(Ue.a,null,e.id),r.a.createElement(Ue.a,{className:c},e.count))})))):r.a.createElement(ce.a,{item:!0,xs:12,className:i},r.a.createElement(ie.a,{variant:"h5"},"No data on registered controllers"))))})),Fe=Object(le.a)((function(e){var t;return{app:(t={padding:"16px",backgroundColor:"#282c34",fontSize:"calc(10px + 2vmin)",color:"white",background:"transparent",fontFamily:e.font.family},Object(Oe.a)(t,Object.keys(e.font.webkitSmoothing)[0],Object.values(e.font.webkitSmoothing)[0]),Object(Oe.a)(t,Object.keys(e.font.mozSmoothing)[0],Object.values(e.font.mozSmoothing)[0]),t)}}));var Pe=function(){var e=Fe().app;return r.a.createElement(re.a,{maxWidth:"lg",className:e,disableGutters:!0},r.a.createElement(ce.a,{container:!0,spacing:2},r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(oe.a,null,r.a.createElement(_e,null))),r.a.createElement(ce.a,{item:!0,sm:8},r.a.createElement(oe.a,null,r.a.createElement(ue,null))),r.a.createElement(ce.a,{item:!0,sm:4},r.a.createElement(oe.a,null,r.a.createElement(ze,null))),r.a.createElement(ce.a,{item:!0,sm:12},r.a.createElement(ie.a,null,"Copyright 2020-2021"),r.a.createElement(ie.a,null,"Version ","0.2.3"))))},Ve=n(67),Qe=Object(Ve.a)({overrides:{MuiSlider:{thumb:{color:"#f50057"},track:{color:"#f50057"},rail:{color:"#f50057"}},MuiCircularProgress:{circle:{color:"#f50057"}}},palette:{type:"dark"},font:{family:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",webkitSmoothing:{"-webkit-font-smoothing":"antialiased"},mozSmoothing:{"-moz-osx-font-smoothing":"grayscale"}}}),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[ae],n=[s.a.apply(void 0,t)],a=s.c,r=Object(s.d)(x(),Object(m.fromJS)(e),a.apply(void 0,n));r.runSaga=ae.run;var c=ne(r.runSaga);return c(te),r.asyncReducers={},r.asyncSagas={},r}(function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());document.body.style.margin="0",o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:$e},r.a.createElement(i.a,{theme:Qe},r.a.createElement(Pe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);