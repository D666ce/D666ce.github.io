(this["webpackJsonpgamepad-tester"]=this["webpackJsonpgamepad-tester"]||[]).push([[0],{67:function(e,t,r){e.exports=r(83)},82:function(e,t,r){},83:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(20),o=r.n(c),i=r(108);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=r(26),l=r(22),u=r(63),d=r(17),p=r(19),m=r(57),f="lib/api/controllers/LOAD_CONTROLLERS_LIST_PROCESSING",b="lib/api/controllers/LOAD_CONTROLLERS_LIST_SUCCEED",g="lib/api/controllers/LOAD_CONTROLLERS_LIST_FAILED",O="lib/api/controllers/REGISTER_CONTROLLER_PROCESSING",x="lib/api/controllers/REGISTER_CONTROLLER_SUCCEED",E="lib/api/controllers/REGISTER_CONTROLLER_FAILED",h=Object(d.fromJS)({controllersList:Object(d.List)([]),controllersListStatus:void 0,registeredController:Object(d.Map)({}),registeringControllerStatus:void 0,error:void 0});function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.type,n=t.payload,a=t.error;switch(r){case f:return e.set("controllersListStatus",f).set("controllersList",Object(d.List)([]));case b:return e.set("controllersListStatus",b).set("controllersList",Object(d.List)(n));case g:return e.set("controllersListStatus",g).set("error",a);case O:return e.set("registeringControllerStatus",O).set("registeredController",Object(d.Map)({}));case x:return e.set("registeringControllerStatus",x).set("registeredController",Object(d.Map)(n));case E:return e.set("registeringControllerStatus",E).set("error",a);default:return e}}function j(e){var t=Object(m.combineReducers)(Object(p.a)({controllers:v},e));return function(e,r){return t(e,r)}}var y=r(12),S=r.n(y),w=r(8),L=S.a.mark(T),k=S.a.mark(N),C=S.a.mark(_),R=S.a.mark(I);function T(e,t,r){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(w.a)(w.b,r);case 2:return n.next=4,Object(w.a)(t,e);case 4:case"end":return n.stop()}}),L)}function N(e,t){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(w.f)(e);case 2:if(!(r=n.sent)){n.next=7;break}return n.next=5,Object(w.a)(t,r);case 5:n.next=0;break;case 7:case"end":return n.stop()}}),k)}function _(e,t,r){var n,a;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(w.f)(e);case 2:if(!(n=c.sent)){c.next=9;break}return a&&a.isRunning()&&a.cancel(),c.next=6,Object(w.c)(T,n,t,r);case 6:a=c.sent,c.next=0;break;case 9:case"end":return c.stop()}}),C)}function I(e,t){var r,n=arguments;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r=n.length>2&&void 0!==n[2]?n[2]:0)){a.next=6;break}return a.next=4,Object(w.c)(_,e,t,r);case 4:a.next=8;break;case 6:return a.next=8,Object(w.c)(N,e,t);case 8:case"end":return a.stop()}}),R)}var A=r(47),D=r(28),M=S.a.mark(W);function B(e){return Object(A.a)(e.headers.entries()).reduce((function(e,t){return Object(D.set)(e,t[0],t[1])}),{})}function G(e,t,r){var n;return fetch(e,t).then((function(e){return r?e.blob().then((function(t){return e.ok?(n=B(e),t):Promise.reject({status:e.status,message:e.statusText,data:t})})):e.text().then((function(e){return e?JSON.parse(e):{}})).then((function(t){return e.ok?(n=B(e),t):Promise.reject({status:e.status,message:e.statusText,data:t})}))})).then((function(e){return{data:e,headers:n}})).catch((function(e){return{err:e}}))}function W(e,t){var r,n,a,c,o,i,s,l,u=arguments;return S.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:J,n=u.length>3&&void 0!==u[3]&&u[3],a=t.withHeaders,c=Object(D.omit)(t,"withHeaders"),o={Accept:"application/json; charset=UTF-8","Content-Type":"application/json","Cache-Control":"no-cache"},i=Object(D.assign)({method:"GET",headers:o},c),d.next=8,Object(w.a)(G,e,i,n);case 8:if(void 0===(s=d.sent).err||null===s.err){d.next=14;break}return l=s.err,d.next=13,Object(w.d)(r(l));case 13:return d.abrupt("return",{error:l});case 14:return d.abrupt("return",a?s:s.data);case 15:case"end":return d.stop()}}),M)}function J(){return{type:"lib/COMMON/IDLE"}}var U=S.a.mark(F),V=S.a.mark(H);function F(){var e,t;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e="".concat("http://localhost:8888","/").concat("api","/controllers/list"),t={method:"GET"},r.next=4,Object(w.a)(W,e,t);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),U)}function H(e){var t,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat("http://localhost:8888","/").concat("api","/controllers/register"),r={method:"POST",body:JSON.stringify(e)},n.next=4,Object(w.a)(W,t,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),V)}function P(e){return{type:g,error:e}}function z(e){return{type:E,error:e}}var Q=r(18),$=function(){return function(e){return Object(d.Map)(e.get("controllers"))}},q=function(){return Object(Q.a)($(),(function(e){return e.get("controllersListStatus")}))},K=function(){return Object(Q.a)($(),(function(e){return e.get("registrationStatus")}))},X=S.a.mark(Z),Y=S.a.mark(ee);function Z(e){var t,r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(w.e)(K());case 2:if(n.sent===O){n.next=24;break}return n.next=6,Object(w.d)({type:O});case 6:return n.prev=6,t=e.payload,n.next=10,Object(w.a)(H,t);case 10:if(!(r=n.sent)||void 0===r.error||null===r.error){n.next=16;break}return n.next=14,Object(w.d)(z(r.error));case 14:n.next=18;break;case 16:return n.next=18,Object(w.d)({type:x,payload:r});case 18:n.next=24;break;case 20:return n.prev=20,n.t0=n.catch(6),n.next=24,Object(w.d)(z());case 24:case"end":return n.stop()}}),X,null,[[6,20]])}function ee(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.e)(q());case 2:if(t.sent===f){t.next=23;break}return t.next=6,Object(w.d)({type:f});case 6:return t.prev=6,t.next=9,Object(w.a)(F);case 9:if(!(e=t.sent)||void 0===e.error||null===e.error){t.next=15;break}return t.next=13,Object(w.d)(P(e.error));case 13:t.next=17;break;case 15:return t.next=17,Object(w.d)({type:b,payload:e});case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(6),t.next=23,Object(w.d)(P());case 23:case"end":return t.stop()}}),Y,null,[[6,19]])}var te=[function(){return I("lib/api/controllers/LOAD_CONTROLLERS_LIST_REQUESTED",ee)},function(){return I("lib/api/controllers/REGISTER_CONTROLLER_REQUESTED",Z)}],re=function(e){return function(t){return t.forEach(e)}},ne=Object(u.a)();r(82);var ae=r(29),ce=r(48),oe=r(11),ie=r.n(oe),se=r(104),le=r(111),ue=r(107),de=r(102),pe=Object(de.a)((function(e){return{header:{backgroundColor:"#282c34",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",color:"white"},root:{width:"1500px",justifyContent:"center"},paper:{padding:"25px 25px 15px 25px"},progress:{margin:"20px 0 0 0"},gamepad:{margin:"70px"}}})),me=r(39),fe=r(84),be=r(110),ge=r(105),Oe=r(109),xe=r(106),Ee=Object(de.a)((function(e){return{root:{minWidth:"550px",justifyContent:"center",alignItems:"center"},paper:{padding:"0 40px 25px 40px"},button:{maxWidth:"110px",minWidth:"95px"},switch:{minWidth:"190px"}}}));function he(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 58.189 58.189",version:"1.1",viewBox:"0 0 58.189 58.189",width:"350px",height:"350px",xmlSpace:"preserve"},a.a.createElement("path",{fill:"#38454F",d:"M29.095 39.268h9.446c1.701 0 3.346.609 4.638 1.716l9.128 7.828c.611.524 1.505.614 2.184.183 9.496-6.01-2.022-29.728-4.305-34.034-.242-.457-.641-2.936-1.126-3.113l-7.676-2.791a2.248 2.248 0 00-2.017.242s-2.164 1.383-2.649 1.383H21.744c-.485 0-2.921-1.383-2.921-1.383a2.25 2.25 0 00-2.017-.242L9.13 11.848c-.486.177-.884 2.656-1.126 3.113-2.283 4.306-13.801 28.024-4.305 34.034.68.43 1.574.34 2.184-.183l9.128-7.828a7.129 7.129 0 014.638-1.716h9.446z"}),a.a.createElement("circle",{cx:"36.786",cy:"30.268",r:"4",fill:"#546A79"}),a.a.createElement("circle",{cx:"13.786",cy:"20.268",r:"4",fill:"#546A79"}),a.a.createElement("circle",{cx:"43.786",cy:"16.268",r:"2",fill:"#EBBA16"}),a.a.createElement("circle",{cx:"39.786",cy:"20.268",r:"2",fill:"#7383BF"}),a.a.createElement("circle",{cx:"47.786",cy:"20.268",r:"2",fill:"#D75A4A"}),a.a.createElement("circle",{cx:"43.786",cy:"24.268",r:"2",fill:"#61B872"}),a.a.createElement("path",{fill:"#AFB6BB",d:"M31.786 11.712c0-.192-.019-.38-.054-.561a1.077 1.077 0 00-.215-.469h-2.479c-.085.007-.165.03-.251.03-.087 0-.167-.022-.251-.03h-2.489a1 1 0 00-.192.4 3.007 3.007 0 000 1.271 3.014 3.014 0 002.404 2.314 3.002 3.002 0 003.527-2.955z"}),a.a.createElement("path",{fill:"#546A79",d:"M27.286 27.921H24v-3.286a.714.714 0 00-.714-.714h-2.571a.714.714 0 00-.714.714v3.286h-3.286a.714.714 0 00-.714.714v2.571c0 .395.32.714.714.714H20v3.286c0 .395.32.714.714.714h2.571c.395 0 .714-.32.714-.714V31.92h3.286c.395 0 .714-.32.714-.714v-2.571a.713.713 0 00-.713-.714z"}))}var ve=Object(ce.a)(Object(s.b)((function(){return Object(Q.a)(Object(Q.a)($(),(function(e){return e.get("registeredController")})),K(),(function(e,t){return{registeredController:e,registrationControllerStatus:t}}))}),(function(e){return{registerController:function(t){return e({type:"lib/api/controllers/REGISTER_CONTROLLER_REQUESTED",payload:t})}}}))),je={delay:0,duration:1e3,weakMagnitude:.5,strongMagnitude:0,isNeedRepeat:!1,pressedButtons:[]},ye=2e3,Se=5e3,we=1,Le=1;ie.a.func,ie.a.string;var ke=ve((function(e){var t=Ee(),r=Object(n.useState)(je),c=Object(ae.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)(null),l=Object(ae.a)(s,2),u=l[0],d=l[1],m=Object(n.useState)(!1),f=Object(ae.a)(m,2),b=f[0],g=f[1],O=e.instance,x=e.registerController,E=o.delay,h=o.duration,v=o.weakMagnitude,j=o.strongMagnitude,y=o.isNeedRepeat,S=function(){var e={startDelay:E,duration:h,weakMagnitude:v,strongMagnitude:j};return console.log("Vibration pulse started with parameters: %o",e),O.vibrationActuator.playEffect("dual-rumble",e)},w=function(){y?(L(),S(),d(setInterval(S,h+E-20)),g(!0)):S()},L=function(){u&&clearInterval(u),g(!1)},k=function(e,t){var r=E+h;switch(e){case"delay":if(r>=Se){i(Object(p.a)(Object(p.a)({},o),{},{delay:t,duration:Se-E}));break}case"duration":if(r>=Se){i(Object(p.a)(Object(p.a)({},o),{},{delay:E-(r-Se),duration:t}));break}default:i(Object(p.a)(Object(p.a)({},o),{},Object(me.a)({},e,t)))}b&&(L(),w())};return Object(n.useEffect)((function(){return x({id:O.id,buttons:O.buttons.length,axes:O.axes.length}),function(){u&&clearInterval(u)}}),[]),a.a.createElement(se.a,{container:!0,spacing:3,className:t.root},a.a.createElement("div",{className:t.paper},a.a.createElement(se.a,{container:!0,justify:"center"},a.a.createElement(he,null)),a.a.createElement(le.a,{style:{marginBottom:"20px",textAlign:"center"}},O.id),a.a.createElement(fe.a,{gutterBottom:!0},"Delay: ",E," ms"),a.a.createElement(be.a,{"aria-labelledby":"input-slider",value:E,defaultValue:0,step:10,min:0,max:ye,onChange:function(e,t){return k("delay",t)}}),a.a.createElement(fe.a,{gutterBottom:!0},"Duration: ",h," ms"),a.a.createElement(be.a,{"aria-labelledby":"input-slider",value:h,defaultValue:1e3,step:100,min:100,max:Se,onChange:function(e,t){return k("duration",t)}}),a.a.createElement(fe.a,{gutterBottom:!0},"Weak magnitude"),a.a.createElement(be.a,{"aria-labelledby":"input-slider",value:v,defaultValue:1,step:.01,min:0,max:we,onChange:function(e,t){return k("weakMagnitude",t)}}),a.a.createElement(fe.a,{gutterBottom:!0},"Strong magnitude"),a.a.createElement(be.a,{"aria-labelledby":"input-slider",value:j,defaultValue:1,step:.01,min:0,max:Le,onChange:function(e,t){return k("strongMagnitude",t)}}),a.a.createElement(se.a,{container:!0,className:t.root,spacing:2},a.a.createElement(se.a,{item:!0,xs:5,className:t.switch},a.a.createElement(ge.a,{control:a.a.createElement(Oe.a,{checked:y,disabled:b,onChange:function(){return k("isNeedRepeat",!y)}}),label:"Interval repeat"})),a.a.createElement(se.a,{item:!0,xs:3},a.a.createElement(xe.a,{className:t.button,variant:"contained",onClick:w,disabled:b},"Start")),a.a.createElement(se.a,{item:!0,xs:3},a.a.createElement(xe.a,{className:t.button,variant:"contained",onClick:L,disabled:!b},"Stop")),a.a.createElement(se.a,{item:!0,xs:12},b&&a.a.createElement(ue.a,{color:"secondary"})))))})),Ce=Object(ce.a)(Object(s.b)((function(){return Object(Q.a)(Object(Q.a)($(),(function(e){return e.get("controllersList")})),q(),(function(e,t){return{controllersList:e,controllersListStatus:t}}))}),(function(e){return{loadRegisteredControllers:function(){return e({type:"lib/api/controllers/LOAD_CONTROLLERS_LIST_REQUESTED"})}}})));ie.a.string,ie.a.func;var Re=Ce((function(e){var t=pe(),r=Object(n.useState)([]),c=Object(ae.a)(r,2),o=c[0],i=c[1],s=(e.controllersList,e.controllersListStatus,e.loadRegisteredControllers),l=function(e){console.log("Gamepad connected at index ".concat(e.gamepad.index)),i([].concat(Object(A.a)(o),[e.gamepad]))},u=function(e){console.log("Gamepad disconnected from index ".concat(e.gamepad.index)),delete o[e.gamepad.index],i(o)};return Object(n.useEffect)((function(){return window.addEventListener("gamepadconnected",l),window.addEventListener("gamepaddisconnected",u),s(),function(){window.removeEventListener("gamepadconnected",l),window.removeEventListener("gamepaddisconnected",u)}}),[]),a.a.createElement("header",{className:t.header},o.length?a.a.createElement(se.a,{container:!0,spacing:0,className:t.root},Object(D.map)(o,(function(e){return a.a.createElement(se.a,{key:e.index,className:t.gamepad,item:!0,xs:"auto"},a.a.createElement(ke,{instance:e}))}))):a.a.createElement("div",{className:t.paper},"Waiting for gamepad connection",a.a.createElement(le.a,{style:{textAlign:"center"}},"(If your gamepad is already connected - press any button)"),a.a.createElement(ue.a,{color:"secondary",className:t.progress}),a.a.createElement(le.a,{style:{marginTop:"20px",textAlign:"center"}},"Version ","0.2.1")))})),Te=r(62),Ne=Object(Te.a)({overrides:{MuiSlider:{thumb:{color:"#f50057"},track:{color:"#f50057"},rail:{color:"#f50057"}}},palette:{type:"dark"}}),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[ne],r=[l.a.apply(void 0,t)],n=l.c,a=Object(l.d)(j(),Object(d.fromJS)(e),n.apply(void 0,r));a.runSaga=ne.run;var c=re(a.runSaga);return c(te),a.asyncReducers={},a.asyncSagas={},a}(function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.a,{store:_e},a.a.createElement(i.a,{theme:Ne},a.a.createElement(Re,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);